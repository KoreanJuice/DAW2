(jugacu=window.jugacu||{}).draggable=((e,n,t={},o)=>{let i,c;function l(n){i&&u(n,t.ghostMode?e.clone:e)}function d(c){i&&(function(e,i){const c=r(e);c&&c.container&&(!s(c.condition)||s(c.condition)&&c.condition(i,e,c.container))?(c.container.appendChild(e),s(c.onDrop)&&c.onDrop(e,c.container),t.ghostMode&&t.ghostCanDrag&&jugacu.draggable(e,n,t,o)):t.ghostMode&&e.parentNode.removeChild(e)}(t.ghostMode?e.clone:e,c),function(e){e.style.position="",e.style.left="",e.style.top="",i=!1}(t.ghostMode?e.clone:e))}function u(e,n){const t=(o=o instanceof HTMLElement?o:function e(n,t){if(t>100||n===document.body)return null;const o=window.getComputedStyle(n).position;return("relative"===o||"absolute"===o)&&t>0?n:e(n.parentElement,++t)}(n,0))?e.clientX-o.getBoundingClientRect().left:e.pageX,i=o?e.clientY-o.getBoundingClientRect().top:e.pageY;n.style.left=`${t-n.offsetWidth/2}px`,n.style.top=`${i-n.offsetHeight/2}px`,function(e){const n=r(e);n&&s(n.onHover)?(n.onHover(n.container,e),c=n):c&&s(c.onLeave)&&(c.onLeave(c.container,e),c=void 0)}(n)}function r(e){for(let t=0;t<n.length;t++){const o=n[t];if(a(o.container,e))return o}return null}function s(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,n){const t=e.getBoundingClientRect(),o=n.getBoundingClientRect();return!(t.top+t.height<o.top||t.top>o.top+o.height||t.left+t.width<o.left||t.left>o.left+o.width)}e.style.userSelect="none",e.addEventListener("mousedown",n=>{t.ghostMode&&(e.clone=e.cloneNode(!0),e.parentNode.append(e.clone)),u(n,t.ghostMode?e.clone:e),function(e){e.style.position="absolute",i=!0}(t.ghostMode?e.clone:e),window.removeEventListener("mousemove",l),window.removeEventListener("mouseup",d),window.addEventListener("mousemove",l),window.addEventListener("mouseup",d)})});
